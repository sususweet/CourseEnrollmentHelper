function getAjaxEnabled(e){try{if(e>=trs.length-1)return;var t=trs[e].getElementsByTagName("td");t=t[0].innerHTML.match(/window.open.{0,}xsxjs/),t=t[0].replace("window.open('",""),t=t.replace("','xsxjs","");var n=trs[e];url=adjustinner+"/"+t,$.ajax({type:"GET",url:adjustinner+"/"+t,cache:!1,success:function(e){e=e.match(/target='_blank'>.{1,}<\/a><\/td><td>.{1,}<\/td>/g);var t,r;for(var i=0;i<e.length;i++){NProgress.inc();try{var s=e[i].match(/<td>[\u4e00-\u9fa5]{1,2}<\/td>/);s=s[0].match(/[\u4e00-\u9fa5]{1,2}/),s=s[0]}catch(o){s="0"}try{var u=e[i].match(/周[\u4e00-\u9fa5]{1}第.{1,}节.{0,4}<\/td>/g);u=u[0],u=u.replace("</td>","")}catch(o){u="0"}try{var a=e[i].match(/-{0,1}\d{1,}\/\d{1,}/);a=a[0].match(/-{0,1}\d{1,}\//),a=a[0].replace("/","")}catch(o){a="0"}var f=Convertday(u,s);f=f.split(",");for(j=0;j<f.length-1;j++)if(f[j]!=""){if(busy.indexOf(f[j])>=0){t=0;break}t=1}a>0?_spaceok=1:_spaceok=0;if(_spaceok==1&&t==1){n.style.backgroundColor="#CBFFBF",n.onmouseout=function(){this.style.backgroundColor="#CBFFBF"},n.onmouseover=function(){this.style.backgroundColor="#ACFF9B"};break}}NProgress.done()}}),e++,getAjaxEnabled(e)}catch(r){console.log(r),swal("课程冲突判断模块错误！","呜呜……/(ㄒoㄒ)/~选课助手崩溃啦，主人检查下浏览器版本是否最新哦，或者联系作者详细描述错误情形以帮助改进插件吧~","error")}}var data,adjustinner,item=document.getElementById("kcmcgrid"),tbody=item.getElementsByTagName("tbody")[0],trs=tbody.getElementsByTagName("tr"),student,busy;chrome.runtime.sendMessage({key:"Getsettings"},function(e){e=e.split(","),Timecheck=e[2],Timecheck=="enabled"&&(student=window.document.location.search.match(/xh=\d{1,}/),student=student[0].replace("xh=",""),adjustinner=window.document.location.origin,busy=Checktime(student,adjustinner),getAjaxEnabled(1))});